## API ?
API(Application Programming Interface, 응용 프로그램 프로그래밍 인터페이스)는 응용 프로그램에서 사용할 수 있도록, 운영 체제나 프로그래밍 언어가 제공하는 기능을 제어할 수 있게 만든 인터페이스를 뜻한다. 주로 파일 제어, 창 제어, 화상 처리, 문자 제어 등을 위한 인터페이스를 제공한다.

API는 어떤 두 매체를 연결해주는 체계이기 때문에 단독으로 알기 어렵다. API를 이해하기 위해서는 먼저 클라이언트와 서버에 대해 이해해야 한다.

> Client에 해당하는 게 클라이언트 컴퓨터이고, Database에 해당하는 게 서버이다. 그리고, 이를 연결해주는 체계가 바로 API다.

클라이언트는 웹 상에서 어떤 서비스를 요청(Request)하는 컴퓨터를, 서버는 요청받은 서비스에 응답(Response)하는 컴퓨터를 의미한다. 예를 들어 네이버에 접속해서 로그인을 할 때 컴퓨터는 “로그인 시켜줘”라고 요청하는 클라이언트 컴퓨터가 되고, 이 요청을 받고 요청자의 아이디와 비밀번호가 맞는지 확인 후 맞으면 로그인을 시켜주는 컴퓨터가 서버 컴퓨터가 된다.

그러나 웹 상의 요청이 “로그인 시켜줘” 하나면 좋을텐데, 클라이언트는 매우 다양한 요청을 보낸다.

+ 회원가입 해줘
+ 비밀번호 찾아줘
+ 회사에 메일 보내줘
+ 블로그 글 게시해줘

등 다양한 요청이 있는데, 이러한 요청들을 구분할 수 있도록 하는 체계가 바로 API이다.

API는 “클라이언트에서 이 서버로 요청을 보내면 이런 응답을 주고, 저 서버로 요청을 보내면 저런 응답을 줄게”와 같이 규칙을 정해놓은 것을 의미한다. 그리고 어떤 서버로 어떤 요청을 하는지 구분하기 위해서 서버주소/요청내용의 URL 형태로 요청한다. 예를 들어 네이버 Open API에서 네이버 아이디로 로그인 인증을 요청하는 경우 `https://nid.naver.com/oauth2.0/authorize`로 요청한다. 여기서 `https://nid.naver.com/oauth2.0/`가 서버주소, authorize가 요청 내용이 된다.

따라서, 클라이언트 컴퓨터가 `https://nid.naver.com/oauth2.0/authorize`로 신호를 보내면 서버에서 네이버 아이디로 로그인 인증을 수행하고 응답한다. 잘 인증되었는지, 혹 문제가 있으면 어떤 문제가 있는지를 알려준다. 이러한 기능은 서버 개발자가 만들며, 그 결과물 (응답에 대한 결과)이 서버 프로그램이다. 서버 주소 정의 역시 개발자 주도로 이루어진다. 그리고 클라이언트 프로그램은 정해진 주소에 요청을 보낸다. 따라서 API도 서버 개발자가 개발하고, 클라이언트 개발자는 그 API를 사용한다.

자, 그럼 이제 API를 클라이언트와 서버 관점에서 좀 더 자세히 살펴보자.

### 클라이언트 관점에서의 API
클라이언트에서 API를 요청할 때의 과정은 4가지 요소로 이루어져 있다.

+ CREATE (ex. 회원 정보 만들어줘)
+ READ (ex. 회원 정보 읽어줘)
+ UPDATE (ex. 회원 정보 갱신/수정해줘)
+ DELETE (ex. 회원 정보 삭제해줘)

이러한 CRUD 요청은 각각의 주소를 가진다. 예를 들어 회원 정보를 만드는 CREATE 요청을 서버주소/accountcreate 라고 지을 수 있다.

그러나 요청마다 각기 다른 주소를 만든다면 관리하기도 어렵고 겹칠 수도 있기 때문에 좀 더 체계적인 API를 만들기 위해 REST(Representational State Transfer)한 API 즉, RESTful API라는 공식 체계가 만들어진다.

RESTful API는 CRUD를 한 주소로 관리하고, 요청을 보낼 때 다음의 4가지 메소드 (method)를 이용한다.

+ CREATE -> POST
+ READ -> GET 
+ UPDATE
  - PUT : 전체 갱신
  - PATCH : 일부 갱신
+ DELETE -> DELETE

여기서 메소드 (Method)라는 용어는 함수처럼 어떤 요청을 보내면 특정 결과가 나오는 API의 모습에서 착안해 만들어졌다. 위의 예에서 회원 정보에 들어가는 ID, 비밀번호를 함수의 parameter로 넣으면 마치 POST(ID, 비밀번호)는 회원 정보를 갱신해주는 요청을 하게 되는 것이다. 그래서 RESTful API는 서버주소/accountcreate대신 서버주소/account만 URL로 입력하고, POST 메소드를 사용해 회원정보를 생성하는 요청을 하게 된다.


### 서버 관점에서의 API
이제 요청을 받은 걸 서버에서 처리할 때 크게 두 가지 응답이 있을 수 있다.

+ 요청이 잘 됐으니 요청을 처리했다는 응답
+ 요청이 이상하니 확인해달라는 응답

회원 정보를 생성하는 요청을 보낼 경우, 모든 응답이 “그래!” 일 수는 없다.
+ 기존 회원 정보에 없는 회원 (승인)
+ 기존 회원 정보에 있는 회원 (생성할 수 없음)
+ 서버 오류로 확인할 수 없는 경우 (서버 오류)

이런 응답도 요청처럼 체계적으로 관리하기 위해 숫자를 통해 응답을 표현한다.

+ OK : 200번대 코드 (201, 202,…)
+ 클라이언트 요청 오류 : 400번대 코드 (401, 404,…)
+ 서버 응답 오류 : 500번대 코드 (500, 501,…)


#### 즉, API란 클라이언트가 특정 기능을 이용하기 위해 어떤 주소로 요청을 보내면 서버가 응답을 해주는 체계이다.

